%tr
  %td
    = link_to(edit_admin_supplier_path(supplier)) do
      != (level-1).times.collect { '&nbsp;| ' }.join + (level != 0 ? '&nbsp;|- ' : '') + supplier['name']
  %td= supplier.products.count
  %td= 
- if @suppliers[supplier.id]
  = render :partial => 'supplier', :collection => @suppliers[supplier.id], :locals => { :level => level+1 }
